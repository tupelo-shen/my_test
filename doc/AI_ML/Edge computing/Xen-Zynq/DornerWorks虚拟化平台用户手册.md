# 1 介绍

## 1.1 Virtuosity介绍

Virtuosity是运行在赛灵思公司Zynq+UltraScale+多处理器硬件平台上的Xen开源管理程序。XZD所有组件，除了裸机容器（BMC）之外，都是基于GPLv2协议发布的；BMC是基于FreeBSD许可协议发布的。具体的要求请参考各个协议。但是，要知道一点的是，这里所说的不包含运行在Xen创建的虚拟环境里的操作系统或者裸机程序。

### 1.1.1 Xen以及虚拟化介绍



### 1.1.2 使用hypervisor和虚拟化的好处

## 1.2 Xilinx公司Zynq UltraScale+多处理器系统平台

# 2 主机配置

## 2.1 发布的镜像

## 2.2 配置主机OS

### 2.2.1 必要工具

### 2.2.2 必要的库

## 2.3 安装镜像

## 2.4 配置TFTP

# 3 目标板配置

## 3.1 目标板

### 3.1.1 配置双分区SD卡

# 4 引导和运行XZD

## 4.1 引导目标板

### 4.1.1 通过SD卡引导

#### 4.1.1.1 配置ZCU102引导模式开关

#### 4.1.1.2 配置UltraZed引导模式开关

#### 4.1.1.3 连接UART并引导

### 4.1.2 通过JTAG引导

## 4.2 运行XZD

### 4.2.1 引导客户机

### 4.2.2 拷贝客户机

### 4.2.3 通过其它文件系统引导客户机

# 5 使用源码构建

## 5.1 环境配置和构建过程

## 5.2 构建Dom0 Linux kernel、Xen、U-Boot和FSBL

### 5.2.1 定制镜像


## 5.3 安装并使用构建的镜像

## 5.4 创建更多的客户机

# 6 基于Zynq的Xen

## 6.1 Xen引导过程

## 6.2 xl-Xen的接口

### 6.2.1 列出Domains

### 6.2.2 创建客户机Domain

### 6.2.3 关闭或销毁一个客户机Domain

### 6.2.4 切换Domain

## 6.3 xentop-分析Domain资源利用率

## 6.4 共享内存

### 6.4.1 libvchan

### 6.4.2 示例：利用libvchan在domain之间进行通信

# 7 裸机客户机

## 7.1 介绍

### 7.1.1 裸机客户机的启动

### 7.1.2 负载应用程序

## 7.2 构建裸机客户机

### 7.2.1 创建负载应用


### 7.2.2 构建客户机镜像

## 7.3 在XZD上安装和运行客户机镜像

### 7.3.1 客户机镜像

### 7.3.2 客户机配置

### 7.3.3 运行客户机

## 7.4 XSDK示例

# 8 其它客户机

# 9 IO设备的交互

## 9.1 半虚拟化

## 9.2 passthrough

### 9.2.1 UART passthrough

### 9.2.2 Ethernet Passthrough

#### 9.2.2.1 修改Xen设备树

#### 9.2.2.2 修改Domain配置文件

#### 9.2.2.3 创建部分设备树

#### 9.2.2.4 和Domain的通信

# 10 其它解决方案

## 10.1 目前支持的选项

