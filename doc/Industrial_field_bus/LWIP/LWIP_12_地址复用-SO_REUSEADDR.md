SO_REUSEADDR可以用在以下四种情况下。(摘自《Unix网络编程》卷一，即UNPv1)

* 1 当有一个有相同本地地址和端口的socket1处于TIME_WAIT状态时，而你启动的程序的socket2要占用该地址和端口，你的程序就要用到该选项。

* 2 SO_REUSEADDR允许同一port上启动同一服务器的多个实例(多个进程)。但每个实例绑定的IP地址是不能相同的。在有多块网卡或用IP Alias技术的机器可以测试这种情况。

* 3 SO_REUSEADDR允许单个进程绑定相同的端口到多个socket上，但每个socket绑定的ip地址不同。这和2很相似，区别请看UNPv1。

* 4 SO_REUSEADDR允许完全相同的地址和端口的重复绑定。但这只用于UDP的多播，不用于TCP。

关于UDP使用REUSEADDR的结论：

* 1 UDP单播或者组播端口复用，想要成功，必须第一次创建socket的时候也要设置端口复用，第二次复用才能成功。
* 2 UDP单播使用端口复用，会导致UDP数据总是被第二次启动的socket接收到，第一次启动的socket总是接收到，除非第二次启动的socke退出。
* 3 两个组播接收者在同一个端口使用端口复用，都能接收到组播数据。
* 4 UDP单播先启动，组播使用端口复用后启动，将导致UDP单播和组播数据都被后启动的接收者收到，而先启动的UDP单播接收者收不到以前的单播数据，反而能够收到组播数据。
* 5 两个socket绑定在同一个端口，加入不同的组播组，最终导致两个socket能够收到两个不同组播组发送的数据。
