### 6.1.11  异常

每个线程都关联两个异常处理*端点*，一个用于*常规异常*处理，一个用于*超时异常*处理，后者仅存在于MCS配置。如果线程导致异常，内核将创建一个包含相关细节的IPC消息并将其发送到端点，然后该线程可以采取适当的动作。异常IPC消息将在第6.2节中进行描述。seL4_TCB_SetSpace()或seL4_TCB_SetSchedParams()方法可以设置用于常规异常处理的端点能力，seL4_TCB_SetTimeoutEndpoint()设置超时异常处理(仅MCS)。使用这些方法，将用于异常处理的能力地址与线程关联，然后用这个地址查找端点能力，进而与异常处理程序建立IPC通道。端点能力安装在线程的内核CNode中。对于没有异常处理程序的线程，可以使用空能力，但是结果根据异常类型的不同而不同。在内核发出异常消息之前，会验证处理能力的有效性，且是具有正确权限的端点能力。

用于异常处理的端点能力必须具有发送和授权/授权回复权限。对异常消息的响应会使出错线程重新启动。对于某些异常类型，可以使用响应消息的内容设置要重新启动的线程寄存器。详见6.2节。
