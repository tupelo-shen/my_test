## 第2.1节  基于能力的访问控制

seL4微内核提供了基于`能力(capability)的访问控制模型`，管理所有的内核服务。为了执行操作，应用程序必须`引用(invoke)`所拥有的对请求服务有足够访问权限的能力。通过能力模型，系统既可以隔离软件组件，也可以选择授予特定的通信能力，达成组件之间授权、可控通信。这使得组件隔离具有高度的可靠性，只有能力“资产”显式授权的操作才允许执行。

`能力`是不可伪造的令牌，它引用特定的内核对象(例如线程控制块)，并带有什么方法可以调用的控制权限。从概念上讲，能力驻留在应用程序的`能力空间(capability space)`，空间中的每个地址都指向一个 `slot(槽)`-包含或不包含一个能力。应用程序可以通过使用容纳能力的slot地址来引用该能力 - 例如请求内核服务。这意味着，`seL4`的`能力模型`是`隔离(或分区)能力系统`的一个实现，能力由内核管理。

`能力空间`被实现为内核管理的`CNodes(能力节点)`有向图。一个CNode是一个slot表(数组)，每个slot可以包含更进一步的(另外的)CNode能力。能力空间中一个能力的地址，就是构成到目标能力的路径中各级CNode slot索引的连接，我们将在第3章详细讨论CNode对象。

能力可以在能力空间内复制和移动，也可以通过IPC发送。这允许创建具有特定访问权限的应用程序，然后委托权限到另一个应用程序，或将新创建(或选择)的内核服务权限传递给别的应用程序。此外，能力也可以`minted(生成)`，以原始能力的子集派生新能力(权限只减不增)，新生成的能力可用于部分授权的应用场景。

能力也能通过撤销来回收权限。撤销会递归地删除从该能力派生出来的所有能力。系统能力的传播(propagation)基于`take-grant`模型控制。