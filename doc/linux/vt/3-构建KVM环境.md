本章的核心内容是：

1. 硬件系统的配置
2. 宿主机（Host）操作系统的安装
3. KVM的编译和安装
4. qemu-kvm的编译和安装
5. 客户机（Guest）的安装

* [1 硬件系统的配置](#1)
    - [1.1 地址类型](#1.1)
    - [1.2 物理地址和页](#1.2)
    - [1.3 高内存和低内存](#1.3)
    - [1.4 内存映射和struct Page](#1.4)
    - [1.5 页表](#1.5)
    - [1.6 虚拟内存区](#1.6)
    - [1.7 进程内存映射](#1.7)
* [2 MMAP设备操作](#2)

<h1 id="1">1 硬件系统的配置</h1>

因为KVM需要硬件虚拟化的支持，所以必须首先讲解一下硬件系统的配置。

KVM支持众多架构，但对X86-64支持是最为完善的。在X86-64架构的处理器上，KVM必需的硬件虚拟化扩展分别为：Intel的虚拟化技术（Intel VT）和AMD的AMD-V技术。

首先，处理器要在硬件上支持VT技术，还要在BIOS中将其功能打开，KVM才能使用到。目前，多数流行的服务器和部分桌面服务器的BIOS都默认